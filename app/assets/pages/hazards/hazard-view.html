<div class="widgets" ng-controller="HazardViewCtrl as hazardViewCtrlVm">

  <div class="row">
    <div class="col-md-12">
      <div ba-panel ba-panel-class="with-scroll">
        <div class="row">
          <div class="col-sm-6">
            <div class="form-group">
              <label for="username">Customer</label>
              <span class="form-control" id="username">
                {{hazardViewCtrlVm.hazard.userId}}
              </span>
            </div>
          </div>
          <div class="col-sm-6">
            <div class="form-group">
              <label for="shieldName">Shield</label>
              <span class="form-control" id="shieldName"
                  ng-model="hazardViewCtrlVm.shield.name">
                  {{hazardViewCtrlVm.shield.name}}
                </span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-6">
            <div class="form-group">
              <label for="title">Event</label>
              <span class="form-control" id="title"
                  ng-model="hazardViewCtrlVm.hazard.title">
                  {{hazardViewCtrlVm.hazard.actionParams.hazardTitle}}
                </span>
            </div>
          </div>
          <div class="col-sm-6">
            <div class="form-group">
              <label for="timestamp">Event Time</label>
              <span class="form-control" id="timestamp">
                {{hazardViewCtrlVm.hazard.createdAt | date:'mediumTime'}} {{hazardViewCtrlVm.hazard.createdAt | date:'shortDate'}}
              </span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-6">
            <div class="form-group">
              <label for="ishandled">Acknowledged</label>
              <span class="form-control" id="ishandled">
                {{hazardViewCtrlVm.hazard.ishandled ? 'Yes' : 'No'}}
              </span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <button class="btn btn-primary pull-right"
                ng-if="hazardViewCtrlVm.claims.length > 0"
                ui-sref="main.claim-view({claimId: hazardViewCtrlVm.claims[0]._id})">
              Show Claim
            </button>
            <button class="btn btn-primary pull-right"
                ng-if="hazardViewCtrlVm.claims.length === 0"
                ui-sref="main.claim-add({hazardId: hazardViewCtrlVm.hazard._id, userId: hazardViewCtrlVm.hazard.userId})">
              Create Claim
            </button>
            <button class="btn btn-primary pull-right" ng-if="!hazardViewCtrlVm.hazard.ishandled"
                ng-click="hazardViewCtrlVm.acknowledgeHazard(hazardViewCtrlVm.hazard)">
              Acknowledge
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <div ba-panel ba-panel-title="Hazard Location" class="viewport100">
        <div id="google-maps"></div>
      </div>
    </div>
  </div>
</div>
